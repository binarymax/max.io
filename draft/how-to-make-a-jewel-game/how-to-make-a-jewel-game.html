<!--Copyright 2016, Max Irwin -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="The blog of Max Irwin">
    <meta name="author" content="Max Irwin">
    <meta name="canonical" content="http://max.io">
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta property="og:image" content="http://binarymax.com/star200.png">
    <meta property="og:title" content="max.io">
    <meta property="og:type" content="website">
    <meta property="og:description" content="The blog of Max Irwin">
    <meta property="og:url" content="http://max.io/">
    <meta property="og:site_name" content="max.io">
    <meta property="twitter:card" content="summary">
    <meta property="twitter:site:id" content="binarymax">
    <meta property="twitter:title" content="AutoJewels">
    <meta property="twitter:image" content="http://binarymax.com/star200.png">
    <meta property="twitter:description" content="The Jewel game that plays itself">
    <link rel="shortcut icon" href="http://binarymax.com/star200.png" type="image/png">
    <link rel="image_src" href="http://binarymax.com/star200.png">
    <title>AutoJewels - Max Irwin</title>
    <style>canvas {border:1px solid #eeeeee;}</style>
  </head>
  <body>

    <h1>How to make a Jewel Game (from scratch)</h1>
    <h2>Part 1 of X</h2>

    <h3>The basics</h3>

    <p>
    Before all the glamor and glory, before we can provide ourselves countless hours of entertainment with our own game, and before we can do anything at all, we need to draw a square. 
    </p>

    <p>
    This lonely square will be the first of many, and start us down a path to make lots and lots of squares that will make up the blocks (or jewels) in our game.
    </p>

    <p>
    To draw a square in HTML5 and Javascript, we will make use of the canvas 
    </p>

    <canvas id="canvas1"></canvas>


    <canvas id="gamecanvas"></canvas>

    <script type="text/javascript">
        (function(){
            
            var _width = 300;
            var _height = 10;
            
            var _canvas = document.getElementById("gamecanvas");
            _canvas.width = _width;
            _canvas.height = _height;
            _canvas.style.width = _width + 'px';
            _canvas.style.height = _height + 'px';
            
            var _context = _canvas.getContext("2d");

            var Block = function(x,y,v,w,h){
                this.x = x;
                this.y = y;
                this.v = v;
                this.w = w;
                this.h = h;
            };

            Block.prototype.move = function(width,height){
                if (this.x>width-10) this.v=Math.abs(this.v)*-1;
                if (this.x<0)        this.v=Math.abs(this.v);
                this.x += this.v;
            };

            Block.prototype.draw = function(context){
                context.fillStyle="#ff3300";
                context.fillRect(this.x,this.y,10,10);
            };

            var draw = function(context,width,height){
                //clear the scene
                context.clearRect(0,0,width,height);

                //draw our block
                block.draw(_context);
            };

            var render = function(){

                //Change the state of the block
                block.move(_width,_height);

                //Draw the scene
                draw(_context,_width,_height);

                //Queue the next frame
                requestAnimationFrame(render);
                
            };

            var block = new Block(0,0,5,10,10);
            requestAnimationFrame(render);

        })();
    </script>


  </body>
  
</html>